<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
<link rel="stylesheet" href="/css/updateforms.css">
<title>Update Bypass Tool</title>
</head>

<body>
	<nav th:fragment="navbar"
		class="navbar navbar-expand-md bg-dark navbar-dark">
		<div class="container-fluid">
			<ul class="nav navbar-nav">

				<li><a class="nav-link" th:href="@{/}">Home</a></li>

				<li><a class="nav-link" th:href="@{/allLocks}">Locks</a></li>

				<li><a class="nav-link" th:href="@{/allPick}">Lock Picks</a></li>

				<li><a class="nav-link" th:href="@{/allTension}">Tension
						Tools</a></li>

				<li><a class="nav-link, active" th:href="@{/allBypass}">Bypass
						Tools</a></li>
				<li style="float: right;"><a class="nav-link"
					th:href="@{/logout}">Sign Out</a></li>

				<li style="float: right;"><a class="nav-link, username"
					th:text="'Logged in as' + ' ' + ${#authentication.getPrincipal().getUsername()}"></a></li>

			</ul>
		</div>
	</nav>
	<form action="#" th:action="@{/updateBypass/{id}(id=${bypass.toolId})}"
		th:object="${bypass}" method="POST">
		<table>
			<tr>
				<td><em>Example: The <span>Comb</span> is used for locks
						with <span>a loose fitting cylinder</span> and works by <span>pushing
							all pins past the cylinder</span>.
				</em></td>
			</tr>
			<tr class="spacer"></tr>
			<tr>
				<td>The <input type="text" th:field="*{toolType}" /> is used
					for locks with <input style="width: 18%;" type="text"
					th:field="*{lockVuln}" /> and works by <input style="width: 25%;"
					type="text" th:field="*{toolUse}" />.
				</td>

				<td th:if="${#fields.hasErrors('toolType')}" th:errors="*{toolType}">Bypass
					Type Error</td>

				<td th:if="${#fields.hasErrors('lockVuln')}" th:errors="*{lockVuln}">Lock
					Vulnerability Error</td>

				<td th:if="${#fields.hasErrors('toolUse')}" th:errors="*{toolUse}">Bypass
					Use Error</td>
			</tr>
			<tr class="spacer"></tr>
			<tr style="display: block;">
				<td width="50%">Technique video: <input id="newVidUrl"
					style="width: 46.5%;" type="text" th:field="*{videoLink}"
					placeholder="https://www.youtube.com/watch?v=3xampl3" /> <input
					style="width: 10rem; float: right; margin-left: 25px;"
					type="submit" value="Format" onclick="formatVid()" /></td>
			</tr>
			<tr class="spacer"></tr>
			<tr style="display: block;">
				<td style="width: 19%;"></td>
				<td>When does the video start?</td>
				<td><input type="number" value=0 th:field="*{start}" /></td>
			</tr>
			<tr class="spacer"></tr>
			<tr style="display: block;">
				<td width="50%">Bypass image: <input id="newPicUrl"
					style="width: 46.5%;" type="text" th:field="*{image}"
					placeholder="https://xyz.com/zyx.jpg" /></td>
			</tr>
			<tr>
				<td th:if="${#fields.hasErrors('videoLink')}"
					th:errors="*{videoLink}">Video Link Error</td>
				<td th:if="${#fields.hasErrors('start')}" th:errors="*{start}">Video
					Start Error</td>
				<td th:if="${#fields.hasErrors('image')}" th:errors="*{image}">Image
					Error</td>
				<td><button type="submit">Submit</button></td>
			</tr>
			<tr class="spacer"></tr>
		</table>
	</form>
	<script th:inline="javascript" defer>
		function formatVid() {
			event.preventDefault();
			url = document.getElementById("newVidUrl").value.split("?v=")[1];
			document.getElementById("newVidUrl").value = url;

		}

		function addImg() {

		}
	</script>
</body>

</html>